(()=>{"use strict";(()=>{class t{constructor(){}static set(t,e,...r){return this.id=setInterval((()=>{e(...r)}),t),this.arrayOfIds.push(this.id),this.id}static clear(t){const e=this.arrayOfIds.find((e=>e===t));clearInterval(e),this.arrayOfIds=this.arrayOfIds.filter((t=>t!==e))}}t.arrayOfIds=[];const{log:e,error:r,table:n,time:o,timeEnd:s,timeStamp:a,timeLog:c,assert:i,clear:l,count:u,countReset:d,group:f,groupCollapsed:h,groupEnd:p,trace:g,profile:m,profileEnd:v,warn:w,debug:y,info:b,dir:E,dirxml:_}=console;function C(t,e){switch(e.toLowerCase().trim()){case"lowercase":return t.toLowerCase();case"uppercase":return t.toUpperCase();case"titlecase":{let e=t.split(" ");for(let t=0;t<e.length;t++){const r=e[t].substring(0,1).toUpperCase(),n=e[t].slice(1).toLowerCase();e[t]=r+n}return e=e.concat(),e.toString()}case"titlecase2":return t.substring(0,1).toUpperCase()+t.substring(1).toLowerCase();default:throw new Error("Formatting text error: unknown option passed in argument")}}function x(t,e){return t.split(e)}function k(t,e,r){return t.substring(e,r)}function L(t){const e=x(t,"").reverse();let r=0;for(let t=e.length-1;t>-1;t--){const n=e[t];r+=Number(`0x${n}`)*Math.pow(16,t)}return r}function N(t,e){var r;if(!e)return Array.from(document.getElementsByClassName(t));return(null===(r=null==e?void 0:e.tagName)||void 0===r?void 0:r.includes("-"))?Array.from(e.shadowRoot.getElementsByClassName(t)):Array.from(e.getElementsByClassName(t))}function S(t,e){var r;if(!e)return document.querySelector(t);return(null===(r=null==e?void 0:e.tagName)||void 0===r?void 0:r.includes("-"))?e.shadowRoot.querySelector(t):e.querySelector(t)}function A(t){return t.parentElement}const O={tool:"brush",fill:"#000000",stroke:"transparent",strokeWidth:0,size:5,isDrawing:!1,hasShadow:!1,shadow:"#000000",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,hasShape:!1,shape:"none",sides:3,innerRadius:1,globalCompositeOperation:"source-over"};e(function(t){if((null==t?void 0:t.length)<6||(null==t?void 0:t.length)>7)throw`Error: Unexpected color argument length passed, was expecting a 6 or 7 characters long string but instead got ${t.length}`;let e=t;var r,n;7===t.length&&(r=1,e=t.slice(r,n));let o=[k(e,0,2),k(e,2,4),k(e,4,6)];for(let t=0;t<o.length;t++){let e=o[t];o[t]=L(e)}return`rbg(${o[0]}, ${o[1]}, ${o[2]})`}("#e9e9e9"));S("canvas.index__canvas");const I=S(".tools");S(".colors"),S(".controls"),S(".shapes"),S(".miscellaneous");function q(t){const r=t.currentTarget;e(r)}function $(t){const r=t.currentTarget;O.tool=r.id,e(O)}!function(){const t=N("tools__input",I);for(const e of t)e.addEventListener("change",$)}(),function(){const t=(e=".color__input--checkbox:not(input#fill-show, input#stroke-show)",r?r.tagName.includes("-")?Array.from(r.shadowRoot.querySelectorAll(e)):Array.from(r.querySelectorAll(e)):Array.from(document.querySelectorAll(e)));var e,r;n(t);for(const e of t)e.addEventListener("change",q)}(),function(){const t=N("controls__input--checkbox"),e=N("input--color"),r=N("controls__input--range");for(const e of t)e.addEventListener("change",T);for(const t of r)t.addEventListener("input",U);for(const t of e)t.addEventListener("input",z)}();const R={size:{id:0,direction:"forwards"},rotation:{id:0,direction:"forwards"}};function T(e){const r=e.currentTarget,n=r.name;r.checked?R[n].id=t.set(10,B,r):t.clear(R[n].id)}function B(t){const e=t.name,r=(n=".controls__brush-container",t.closest(n));var n;const o=S(".controls__input--range",r),s=Number(o.value),a=Number(o.max),c=Number(o.min);s>=a&&(R[e].direction="backwards");s<=c&&(R[e].direction="forwards");const i="forwards"===R[e].direction;o.value=i?s+1:s-1;D(r,`${o.value}`)}function U(t){const e=t.currentTarget,r=e.value;D(A(e),r)}function z(t){const r=t.currentTarget,n=C(r.value,"uppercase"),o=A(r);D(o,n);const s=S("div",A(o));e(s);const a=r.id,c=function(t){const e=S("input[type=checkbox]",t);return!e.checked}(s);O[a]=c?"transparent":n,e(O)}function D(t,e){S("span",t).textContent=e}})()})();